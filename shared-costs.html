<!DOCTYPE html>
<html lang="">
	<head>
		<meta charset="utf-8">
		<title>Shared Expenses</title>

		<!-- Bootstrap CSS -->
		<link href="https://netdna.bootstrapcdn.com/bootstrap/3.1.1/css/bootstrap.min.css" rel="stylesheet">

		<style type="text/css">
			body {
				background: #B7E1CE;
				text-align: center;
			}
			body {
				margin: 100px;
			}
		</style>
	</head>

	<body>
		<h2>SHARED EXPENSES</h2>

		<form action="calculate" method="post" id="user_inputs">
			<p>Roommate A has already paid: <input type="number" name="roommateA" value="" id="PaidA" /></p>
		    <p>Roommate B has already paid: <input type="number" name="roommateB" value="" id="PaidB" /></p>
		    <p>Roommate C has already paid: <input type="number" name="roommateC" value="" id="PaidC" /></p>
		</form>
		<input type="submit" name="submit" value="Calculate" onClick="showInputs();"/>
<hr>
		<p>Roommate A pays: <span id="finalA"></span></p>
		<p>Roommate B pays: <span id="finalB"></span></p>
		<p>Roommate C pays: <span id="finalC"></span></p>
<hr>
		<p>PaidA = <span id="displayA"></span></p>
		<p>PaidB = <span id="displayB"></span></p>
		<p>PaidC = <span id="displayC"></span></p>
		<p>averagePaid = <span id="averagePaid"></span></p>

        <!-- jQuery -->
		<script src="https://code.jquery.com/jquery.js"></script>
		<!-- Bootstrap JavaScript -->
		<script src="https://netdna.bootstrapcdn.com/bootstrap/3.1.1/js/bootstrap.min.js"></script>

		<script type"text/javascript">

			function getInputs() {
				// var PaidA = Number(document.getElementById("PaidA").value);
				// var PaidB = Number(document.getElementById("PaidB").value);
				// var PaidC = Number(document.getElementById("PaidC").value);

		    	// get all inputs into an array
		    	var $inputs = $('#user_inputs :input');

		    	// get an associative array of just the values
			    var values = {};
			    $inputs.each(function() {
			        values[this.name] = $(this).val()/1;
			    });

		    	console.log(values);

				return values;				
			}

			function getAveragePaid(currentPayments) {
				

				return (currentPayments["PaidA"] + currentPayments["PaidB"] + currentPayments["PaidC"])/3;
			}

		    function showInputs() {
		    	var currentPayments = getInputs();
				var averagePaid = getAveragePaid(currentPayments);

		        document.getElementById('finalA').innerHTML = (averagePaid-currentPayments["PaidA"]);
		        document.getElementById('finalB').innerHTML = (averagePaid-currentPayments["PaidB"]);
		        document.getElementById('finalC').innerHTML = (averagePaid-currentPayments["PaidC"]);

		        document.getElementById('displayA').innerHTML = currentPayments["PaidA"];
		        document.getElementById('displayB').innerHTML = currentPayments["PaidB"];
		        document.getElementById('displayC').innerHTML = currentPayments["PaidC"];
		        document.getElementById('averagePaid').innerHTML = averagePaid;
		    }

		</script>
	</body>
</html>