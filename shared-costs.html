<!DOCTYPE html>
<html lang="">
	<head>
		<meta charset="utf-8">
		<title>Shared Expenses</title>

		<!-- Bootstrap CSS -->
		<link href="https://netdna.bootstrapcdn.com/bootstrap/3.1.1/css/bootstrap.min.css" rel="stylesheet">

		<style type="text/css">
			body {
				background: #B7E1CE;
				text-align: center;
			}
			body {
				margin: 100px;
			}
		</style>
	</head>

	<body>
		<h2>SHARED EXPENSES</h2>

		<form action="calculate" method="post" id="user_inputs">
			<p>Roommate 1 has already paid: <input type="number" name="roommate1" value="" id="roommateA" /></p>
		    <p>Roommate 2 has already paid: <input type="number" name="roommate2" value="" id="roommateB" /></p>
		    <p>Roommate 3 has already paid: <input type="number" name="roommate3" value="" id="roommateC" /></p>
		</form>
		<input type="submit" name="submit" value="Calculate" onClick="showInputs();"/>
<hr>
		<p>Roommate 1 pays: <span id="finalA"></span></p>
		<p>Roommate 2 pays: <span id="finalB"></span></p>
		<p>Roommate 3 pays: <span id="finalC"></span></p>

        <!-- jQuery -->
		<script src="https://code.jquery.com/jquery.js"></script>
		<!-- Bootstrap JavaScript -->
		<script src="https://netdna.bootstrapcdn.com/bootstrap/3.1.1/js/bootstrap.min.js"></script>

		<script type"text/javascript">

			function getInputs() {
		    	// get all inputs into an array
		    	var $inputs = $('#user_inputs :input');

		    	// get an associative array of just the values
			    var values = {};
			    $inputs.each(function() {
			        values[this.name] = $(this).val()/1;
			    });

		    	console.log(values);

				return values;				
			}

			function getAveragePaid(currentPayments) {
				var sum = 0;
				var count = 0;

				$.each(currentPayments, function(key, value) {
					sum += value;
					count += 1;
				});

				console.log("sum/count = " + sum/count);

				return sum/count;
			}

		    function showInputs() {
		    	var currentPayments = getInputs();
				var averagePaid = getAveragePaid(currentPayments);

				$.each(currentPayments, function(key, value) {

				});

		        document.getElementById('finalA').innerHTML = (averagePaid-currentPayments["roommateA"]);
		        document.getElementById('finalB').innerHTML = (averagePaid-currentPayments["roommateB"]);
		        document.getElementById('finalC').innerHTML = (averagePaid-currentPayments["roommateC"]);
		    }

		</script>
	</body>
</html>